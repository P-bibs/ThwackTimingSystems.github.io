---
layout: post
title: 'Flask: A Simple Python Web Server'
date: '2018-11-05T09:29:00.002-08:00'
author: Thwack Timing Systems
tags: 
modified_time: '2018-11-05T09:29:50.857-08:00'
thumbnail: https://4.bp.blogspot.com/-MldddTLDecg/W-B68N3Z4hI/AAAAAAAATQg/hrhTmHlASrsOV9PI-MoUDgfxYVQ-Lrn1ACK4BGAYYCw/s72-c/FlaskServer.png
blogger_id: tag:blogger.com,1999:blog-7296530259499110162.post-7955132930330556663
blogger_orig_url: https://thwacktiming.blogspot.com/2018/11/flask-simple-python-web-server.html
---

One of the issues we have been dealing with is how to retrieve results from the Pi. The initial idea was to host the results on a RESTful web server that could be retrieved from an app. After some searching, we've decided on using Flask, a micro web framework for Python.<br /><br /><a href="http://4.bp.blogspot.com/-MldddTLDecg/W-B68N3Z4hI/AAAAAAAATQg/hrhTmHlASrsOV9PI-MoUDgfxYVQ-Lrn1ACK4BGAYYCw/s1600/FlaskServer.png" imageanchor="1"><img border="0" height="417" src="https://4.bp.blogspot.com/-MldddTLDecg/W-B68N3Z4hI/AAAAAAAATQg/hrhTmHlASrsOV9PI-MoUDgfxYVQ-Lrn1ACK4BGAYYCw/s640/FlaskServer.png" width="640" /></a><br /><h2>A Simple Flask Web Server</h2><div>Setting up a simple web server that accepts GET http requests and returns a JSON file is simple. The above is an example. After some imports and boilerplate, we define our first route with the @app.route decoration. The arguments indicate that GET requests to "[server's url]/results" will return the value of the following function, which in our case loads in a JSON file from memory and returns it.</div><div>The primary advantage of this method is it loads the file into memory each time a request is made, so if a separate program is updating the file (say the python program running simultaneously that records times) each request will return the most up to date version, not just the version that existed when the server was started.</div><div><br /></div><div>This server was tested both with the bash utility Curl and with an app making http requests pointed at the server. Both performed flawlessly and the Flask server is now integrated into our working prototype.</div><div><br /></div><div><br /></div>